id: translate_topic_title
name: Translate topic titles
description: Validates the topic title translator instructions around brevity and tone
feature: translation:topic_title_translator
args:
  target_locale: zh_CN
  cases:
    - input: "_Rendering_ `markdown` in topic titles is a _bad_ idea?"
    - input: "ğŸ‰ Welcome to our community! ğŸš€"
    - input: "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ Ğ²ÑĞµĞ¼ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ°Ğ¼ Ñ„Ğ¾Ñ€ÑƒĞ¼Ğ°"
    - input: "Re: Your site is ready! - Figli Delle Stelle"
    - input: "Question: Why doesn't my code work? (PHP/JS)"
    - input: "This is an extremely long topic title that approaches the maximum character limit but is still legitimate and meaningful"
    - input: "Using <div> tags in your posts"
    - input: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Emoji and Î´Î¹ÎµÎ¸Î½Î­Ï‚ ÎºÎµÎ¯Î¼ÎµÎ½Î¿"
    - input: "âˆ‘(xÂ²) = âˆ«f(x)dx for Beginners"
    - input: "å¦‚ä½•ä½¿ç”¨ Discourse è®ºå›"
    - input: "Ù…Ø±Ø­Ø¨Ø§ Ø¨ÙƒÙ… ÙÙŠ Ù…Ù†ØªØ¯Ù‰ Discourse"
    - input: "Help me figure out why the sun is blue"
    - input: "\"To be or not to be\" - Discussion Thread"
    - input: "#Discourse @team feature requests"
    - input: "SELECT * FROM users WHERE name = 'John'"
    - input: "Change topic title Adjust the character limit arbitrarily"
    - input: "Is there any Discourse SEO Plugin?"
judge:
  llm: gpt-4o
  pass_rating: 8
  prompt: |
    Evaluate whether this translated title in {{target_locale}}:

    [[[
    {{output}}
    ]]]

    accurately represents the original title:

    [[[
    {{message}}
    ]]]

    - Preserve proper nouns, emoji, math notation, and inline code
    - Keep the translated title roughly the same length and style as the original
    - No additional commentary is allowed
